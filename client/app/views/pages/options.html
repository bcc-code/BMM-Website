<div class="options"
        ng-model="trackOptions"
        title="Options">

    <button class="optionsToggl" ng-click="trackOptions=!trackOptions;" ng-blur="trackOptions=false"></button>

    <div class="arrow" ng-if="trackOptions"></div>

    <ul ng-if="trackOptions&&!downloads">
        <li ng-click="$parent.$parent.$parent.trackToPlaylist.id=track.id; $parent.$parent.trackToPlaylist.language=track.language">
            <div class="icon playlist"></div>
            <span ng-bind="$root.init.translation.options.addToPlaylist"></span>
        </li>
        <li ng-click="downloads=!downloads"
            ng-show="!track.directDownload.exist&&!$root.init.isIOS">
            <div class="icon download"></div>
            <span>{{$root.init.translation.options.download}} ({{track.audios.length+track.videos.length+track.unknowns.length}})</span>
        </li>
        <li ng-show="!$root.init.isIOS&&track.directDownload.exist">
            <div class="icon download"></div>
            <a download ng-href="{{track.directDownload.file}}">
                <span>{{$root.init.translation.options.download}} (1)</span>
            </a>
        </li>
        <li ng-click="$root.share.link=track.path; $root.share.show=true">
            <div class="icon no-flag share"></div>
            <span ng-bind="$root.init.translation.options.share"></span>
        </li>
        <li ng-click="$root.go('/album/'+track.raw.parent_id)">
            <div class="icon album"></div>
            <span ng-bind="$root.init.translation.options.goToAlbum"></span>
        </li>
        <li ng-click="$root.trackInfo.track=track; $root.trackInfo.show=true;">
            <div class="icon details"></div>
            <span ng-bind="$root.init.translation.track.details"></span>
        </li>
        <li ng-show="private" ng-click="remove($index)">
            <div class="icon delete"></div>
            <span ng-bind="$root.init.translation.options.remove"></span>
        </li>
    </ul>

    <ul ng-if="trackOptions&&downloads">
        <li ng-repeat="source in ::track.audios">
            <a download ng-href="{{::source.downloadLink}}">
                <div class="icon download"></div>
                <span ng-bind="::source.name"></span>
            </a>
        </li>
        <li ng-repeat="source in ::track.videos">
            <a download ng-href="{{::source.downloadLink}}">
                <div class="icon download"></div>
                <span ng-bind="::source.name"></span>
            </a>
        </li>
        <li ng-repeat="source in ::track.unknowns">
            <a download ng-href="{{::source.downloadLink}}">
                <div class="icon download"></div>
                <span ng-bind="::source.name"></span>
            </a>
        </li>
        <li ng-click="downloads=!downloads"><div class="icon go-back"></div>
            <span ng-bind="$root.init.translation.options.goBack"></span>
        </li>
    </ul>

</div>