<button class="options"
        ng-model="trackOptions"
        ng-blur="trackOptions=false">

    <div class="optionsToggl" ng-click="trackOptions=!trackOptions;"></div>

    <div class="arrow" ng-show="trackOptions"></div>

    <ul ng-show="trackOptions&&!downloads">
        <li ng-click="$parent.$parent.$parent.trackInfo.track=track; trackInfo.show=true;">
            <div class="icon"></div>
            <span>{{translation.track.details}}</span></li>
        <li ng-show="private" ng-click="remove($index)">
            <div class="icon delete"></div>
            <span>{{translation.options.remove}}</span>
        </li>
        <li ng-click="$parent.$parent.$parent.trackToPlaylist.id=track.id; $parent.$parent.trackToPlaylist.language=track.language">
            <div class="icon playlist"></div>
            <span>{{translation.options.addToPlaylist}}</span>
        </li>
        <li ng-click="go('/album/'+track.raw.parent_id)">
            <div class="icon album"></div>
            <span>{{translation.options.goToAlbum}}</span></li>
        <li ng-click="downloads=!downloads"
            ng-show="!track.directDownload.exist&&!ios">
            <div class="icon download"></div>
            <span>{{translation.options.download}}</span>
        </li>
        <li ng-show="!ios&&track.directDownload.exist">
            <div class="icon download"></div>
            <a download ng-href="{{track.directDownload.file}}?download=1">
                <span>{{translation.options.download}}</span>
            </a>
        </li>
    </ul>

    <ul ng-show="playerOptions&&downloads">
        <li ng-repeat="source in player.source.audios">
            <a download ng-href="{{source.file}}?download=1">
                <div class="icon download"></div>
                <span>{{source.type}}</span>
            </a>
        </li>
        <li ng-repeat="source in player.source.videos">
            <a download ng-href="{{source.file}}?download=1">
                <div class="icon download"></div>
                <span>{{source.type}}</span>
            </a>
        </li>
        <li ng-repeat="source in player.source.unknowns">
            <a download ng-href="{{source.file}}?download=1">
                <div class="icon download"></div>
                <span>{{source.type}}</span>
            </a>
        </li>
        <li ng-click="downloads=!downloads"><div class="icon settings"></div>
            <span>{{translation.options.goBack}}</span>
        </li>
    </ul>

</button>