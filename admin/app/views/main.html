<div ng-controller="MainCtrl" class="admin">
    <!--HEADER - MUST DUBLICATE IN NAVIGATOR > SUB-HEADER -->
    <header>
        <div class="page-positioning">
            <a ng-href="#" class="logo"></a>
            <div class="search">
                <form ng-submit="go('/search/'+bmm.term);">
                    <input ng-model="bmm.term"
                           type="text"
                           placeholder="{{translation.general.search}}">
                    <input type="submit" value="">
                </form>
            </div>
            <ul class="menu">
                <li><a ng-href="#dashboard">{{translation.menu.main.dashboard}}</a></li>
                <li><a ng-href="#waitings">{{translation.menu.main.waitings}}</a></li>
                <li><a ng-href="#contributors">{{translation.menu.main.contributors}}</a></li>
                <li><a ng-href="#users">{{translation.menu.main.users}}</a></li>
            </ul>
        </div>
    </header>

    <!--VIEWER-->
    <div class="page-positioning">
        <div ng-view class="frontend" ng-class="{'visible': visible}"></div>
    </div>

    <!--PLAYER-->
    <div player>

        <div class="videoscreen" ng-show="player.showVideo">
            <div class="display">
                <div class="fullscreen-toggle"></div>
                <div class="video-target">
                    <div style="position: absolute;
                                bottom: 0;
                                width: 100%;
                                height: 5em;
                                background: red;"></div>
                </div>
            </div>
        </div>

        <div class="page-positioning">

            <div class="about">
                <img ng-src="{{player.cover}}"/>
                <h3>{{player.title}}</h3>
                <div>{{player.subtitle}}</div>
                <div>{{player.extraTitle | bmmLanguage}}</div>
            </div>

            <div class="controllers">
                <div class="time">
                    <div class="current">{{player.currentTime | bmmTime}}</div>
                    <div class="remaining">{{(player.getDuration()-player.currentTime) | bmmTime}}</div>
                    <div class="slider"><div class="target"></div></div>
                </div>
                <div class="main">
                    <div class="repeat"
                         ng-class="{'active': playlist.repeat}"
                         ng-click="playlist.setRepeat();"></div>
                    <div class="previous" ng-click="player.setPrevious();"></div>
                    <div class="play"
                         ng-class="{'pause': player.playing}"
                         ng-click="togglePlay();"></div>
                    <div class="next" ng-click="player.setNext();"></div>
                    <div class="shuffle"
                         ng-class="{'active': playlist.shuffle}"
                         ng-click="playlist.setShuffle();"></div>

                    <div class="mute"
                         ng-class="{'active': player.muted}"
                         ng-click="player.setMute();"
                         ng-hide="ios"></div>
                    <div class="volume" ng-hide="ios"></div>
                    <a class="download" download ng-hide="ios" ng-href="{{player.source}}?download=1"></a>
                    <div class="videoToggle" ng-click="player.showVideo=!player.showVideo" ng-show="player.video"></div>

                    <div class="scroller">
                        <span><b>{{player.title}}</b> {{player.subtitle}} {{player.extraTitle | bmmLanguage}} </span>
                    </div>
                </div>
            </div>

        </div>
    </div>

    <!--NAVIGATOR-->
    <div class="page-positioning">

        <div ng-click="visible=!visible;"
             class="nav-toggle"
             ng-class="{'fixedSmall':fixedSmall, 'fixed': fixed, 'absolute': absolute, 'visible': visible}"
                ></div>

        <div navigator ng-class="{'fixedSmall':fixedSmall, 'fixed': fixed, 'absolute': absolute, 'visible': visible}">

            <!--SUB-HEADER-->
            <div class="sub-header" ng-class="{'visible': fixed}">
                <a ng-href="#" class="logo"></a>
                <div class="search">
                    <form ng-submit="go('/search/'+bmm.term); visible=false;">
                        <div><input ng-model="bmm.term"
                                    type="text"
                                    placeholder="{{translation.general.search}}"></div>
                        <input type="submit" value="">
                    </form>
                </div>
                <ul class="menu">
                    <li><a ng-href="#dashboard">{{translation.menu.main.dashboard}}</a></li>
                    <li><a ng-href="#waitings">{{translation.menu.main.waitings}}</a></li>
                    <li><a ng-href="#contributors">{{translation.menu.main.contributors}}</a></li>
                    <li><a ng-href="#users">{{translation.menu.main.users}}</a></li>
                </ul>
            </div>

            <!--QUICK MENU -->
            <h2>{{translation.menu.secondary.quickMenu}}</h2>
            <div class="quick-menu">
                <button>{{translation.menu.secondary.newAlbum}}</button>
                <button>{{translation.menu.secondary.newTrack}}</button><br><br>

                    {{translation.menu.secondary.year}}
                    <select ng-change="findAlbums(year);"
                            ng-model="year"
                            ng-options="year for year in years">
                    </select>

                    {{translation.menu.secondary.album}}
                    <select ng-disabled="albums.length<=0"
                            ng-change="findChildAlbums(album.id);"
                            ng-model="album"
                            ng-options="album.title for album in albums">
                    </select>
                    <button ng-disabled="albums.length<=0"
                            ng-click="go('/album/'+album.id);">
                        {{translation.menu.secondary.open}}
                    </button><br><br>

                    {{translation.menu.secondary.childAlbum}}
                    <select ng-disabled="childAlbums.length<=0"
                            ng-model="albumChild"
                            ng-options="childAlbum.title for childAlbum in childAlbums">
                    </select>
                    <button ng-disabled="childAlbums.length<=0"
                            ng-click="go('/album/'+albumChild.id);">
                        {{translation.menu.secondary.open}}
                    </button>

            </div>

        </div>

        <div class="background" ng-class="{'visible': visible}"></div>
        <div class="foreground"></div>
    </div>

    <!--BACKGROUND-->
    <div class="background-left"></div>
    <div class="background-right"></div>
</div>