<p ng-if="loading">Loading ...</p>
<div ng-if="!loading" style="float: none">
    <h3 ng-if="podcast.title">Next episode from "<a href="album/{{nextEpisode.parent_id}}" ng-click="go('/album/'+nextEpisode.parent_id);">{{podcast.title}}</a>"</h3>
    <h3 ng-if="!podcast.title">No podcast with the specified id found!</h3>

    <h4 ng-if="!nextEpisode">Ingen neste episode tilgjengelig!</h4>
    <h4 ng-if="nextEpisode">Will be published on: {{nextEpisode.published_at | _locals:init.translation['iso-639-1']:'{d}. {SHORTMONTH} {yyyy} - {HH}:{mm}'}} (<a href="track/{{nextEpisode.id}}" ng-click="go('/track/'+nextEpisode.id);">link</a>)</h4>

    <div ng-if="errors" style="float: none; padding: 0 20px; border: 1px dashed red; margin: 20px 0;">
        <h5 ng-if="norwegianNotMainLanguage"><span style="color: red; vertical-align: top;" class="glyphicon glyphicon-remove"></span> <strong>nb</strong> is not the main language!</h5>
        <div ng-if="missingLanguages">
            <h5 ng-repeat="language in missingLanguages"><span style="color: red; vertical-align: top;" class="glyphicon glyphicon-remove"></span> <strong>{{language}}</strong> is missing from the expected languages!</h5>
        </div>
    </div>

    <table ng-if="nextEpisode" style="width: 100%;">
        <tr>
            <th></th>
            <th>{{init.translation.page.editor.title}}</th>
            <th>{{init.translation.page.editor.duration}}</th>
            <th style="text-align: center;">{{init.translation.page.editor.uploaded}}</th>
            <th style="text-align: center;">{{init.translation.page.editor.published}}</th>
        </tr>
        <tr ng-repeat="translation in nextEpisode.translations" style="padding: 5px 0; height: 25px; border-top: 1px solid #ccc;">
            <td style="padding-right: 5px">
                <span class="flag flags-{{translation.language}}" style="vertical-align: top;"></span> <span class="languageCode">{{translation.language}}</span>
            </td>
            <td style="padding-right: 5px">
                <span ng-if="translation.duplicate_title" title="The title is the same as of another language!" style="color: orange; vertical-align: text-top;" class="glyphicon glyphicon-exclamation-sign"></span> {{translation.title}}
            </td>
            <td style="padding-right: 5px;">
                <span ng-if="translation.big_difference_in_duration" title="The duration of the media is different with more than {{differencePercentage}}%!" style="color: orange; vertical-align: text-top;" class="glyphicon glyphicon-exclamation-sign"></span> {{translation.media[0].files[0].duration | _time}}
            </td>
            <td style="padding-right: 5px; text-align: center;">
                <span ng-if="translation.media != null" title="This language has a media file attached to it." style="color: green" class="glyphicon glyphicon-ok"></span>
                <span ng-if="translation.media == null" title="This language doesn't have a media file attached to it!" style="color: red" class="glyphicon glyphicon-remove"></span>
            </td>
            <td style="text-align: center;">
                <span ng-if="translation.is_visible" title="This language is published." style="color: green" class="glyphicon glyphicon-ok"></span>
                <span ng-if="!translation.is_visible" title="This language is not yet published!" style="color: red" class="glyphicon glyphicon-remove"></span>
            </td>
        </tr>
    </table>
</div>

<style type="text/css">
    @media screen and (max-width: 53em) {
        .languageCode {
            display: none;
        }
    }
</style>